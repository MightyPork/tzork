var tz_names=["Africa/Abidjan","Africa/Accra","Africa/Algiers","Africa/Bissau","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Khartoum","Africa/Lagos","Africa/Maputo","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Andorra","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Helsinki","Europe/Istanbul","Europe/Kaliningrad","Europe/Kiev","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Uzhgorod","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","Europe/Zurich","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis"];
var tz_aliases={Afghanistan:"Asia/Kabul","Aland Islands":"Europe/Mariehamn",Albania:"Europe/Tirane",Algeria:"Africa/Algiers","American Samoa":"Pacific/Pago_Pago",Andorra:"Europe/Andorra",Angola:"Africa/Luanda",Anguilla:"America/Anguilla","Antigua and Barbuda":"America/Antigua",Armenia:"Asia/Yerevan",Aruba:"America/Aruba",Austria:"Europe/Vienna",Azerbaijan:"Asia/Baku",Bahamas:"America/Nassau",Bahrain:"Asia/Bahrain",Bangladesh:"Asia/Dhaka",Barbados:"America/Barbados",Belarus:"Europe/Minsk",Belgium:"Europe/Brussels",Belize:"America/Belize",Benin:"Africa/Porto-Novo",Bermuda:"Atlantic/Bermuda",Bhutan:"Asia/Thimphu",Bolivia:"America/La_Paz","Bonaire, Saint Eustatius and Saba":"America/Kralendijk","Bosnia and Herzegovina":"Europe/Sarajevo",Botswana:"Africa/Gaborone","British Indian Ocean Territory":"Indian/Chagos","British Virgin Islands":"America/Tortola",Brunei:"Asia/Brunei",Bulgaria:"Europe/Sofia","Burkina Faso":"Africa/Ouagadougou",Burundi:"Africa/Bujumbura",Cambodia:"Asia/Phnom_Penh",Cameroon:"Africa/Douala","Cape Verde":"Atlantic/Cape_Verde","Cayman Islands":"America/Cayman","Central African Republic":"Africa/Bangui",Chad:"Africa/Ndjamena","Christmas Island":"Indian/Christmas","Cocos Islands":"Indian/Cocos",Colombia:"America/Bogota",Comoros:"Indian/Comoro","Cook Islands":"Pacific/Rarotonga","Costa Rica":"America/Costa_Rica",Croatia:"Europe/Zagreb",Cuba:"America/Havana","Curaçao":"America/Curacao",Cyprus:"Asia/Nicosia","Czech Republic":"Europe/Prague",Denmark:"Europe/Copenhagen",Djibouti:"Africa/Djibouti",Dominica:"America/Dominica","Dominican Republic":"America/Santo_Domingo","East Timor":"Asia/Dili",Egypt:"Africa/Cairo","El Salvador":"America/El_Salvador","Equatorial Guinea":"Africa/Malabo",Eritrea:"Africa/Asmara",Estonia:"Europe/Tallinn",Ethiopia:"Africa/Addis_Ababa","Falkland Islands":"Atlantic/Stanley","Faroe Islands":"Atlantic/Faroe",Fiji:"Pacific/Fiji",Finland:"Europe/Helsinki",France:"Europe/Paris","French Guiana":"America/Cayenne","French Southern Territories":"Indian/Kerguelen",Gabon:"Africa/Libreville",Gambia:"Africa/Banjul",Georgia:"Asia/Tbilisi",Ghana:"Africa/Accra",Gibraltar:"Europe/Gibraltar",Greece:"Europe/Athens",Grenada:"America/Grenada",Guadeloupe:"America/Guadeloupe",Guam:"Pacific/Guam",Guatemala:"America/Guatemala",Guernsey:"Europe/Guernsey",Guinea:"Africa/Conakry","Guinea-Bissau":"Africa/Bissau",Guyana:"America/Guyana",Haiti:"America/Port-au-Prince",Honduras:"America/Tegucigalpa","Hong Kong":"Asia/Hong_Kong",Hungary:"Europe/Budapest",Iceland:"Atlantic/Reykjavik",India:"Asia/Kolkata",Iran:"Asia/Tehran",Iraq:"Asia/Baghdad",Ireland:"Europe/Dublin","Isle of Man":"Europe/Isle_of_Man",Israel:"Asia/Jerusalem",Italy:"Europe/Rome","Ivory Coast":"Africa/Abidjan",Jamaica:"America/Jamaica",Japan:"Asia/Tokyo",Jersey:"Europe/Jersey",Jordan:"Asia/Amman",Kenya:"Africa/Nairobi",Kuwait:"Asia/Kuwait",Kyrgyzstan:"Asia/Bishkek",Laos:"Asia/Vientiane",Latvia:"Europe/Riga",Lebanon:"Asia/Beirut",Lesotho:"Africa/Maseru",Liberia:"Africa/Monrovia",Libya:"Africa/Tripoli",Liechtenstein:"Europe/Vaduz",Lithuania:"Europe/Vilnius",Luxembourg:"Europe/Luxembourg",Macao:"Asia/Macau",Macedonia:"Europe/Skopje",Madagascar:"Indian/Antananarivo",Malawi:"Africa/Blantyre",Maldives:"Indian/Maldives",Mali:"Africa/Bamako",Malta:"Europe/Malta",Martinique:"America/Martinique",Mauritania:"Africa/Nouakchott",Mauritius:"Indian/Mauritius",Mayotte:"Indian/Mayotte",Moldova:"Europe/Chisinau",Monaco:"Europe/Monaco",Montenegro:"Europe/Podgorica",Montserrat:"America/Montserrat",Morocco:"Africa/Casablanca",Mozambique:"Africa/Maputo",Myanmar:"Asia/Rangoon",Namibia:"Africa/Windhoek",Nauru:"Pacific/Nauru",Nepal:"Asia/Kathmandu",Netherlands:"Europe/Amsterdam","New Caledonia":"Pacific/Noumea",Nicaragua:"America/Managua",Niger:"Africa/Niamey",Nigeria:"Africa/Lagos",Niue:"Pacific/Niue","Norfolk Island":"Pacific/Norfolk","North Korea":"Asia/Pyongyang","Northern Mariana Islands":"Pacific/Saipan",Norway:"Europe/Oslo",Oman:"Asia/Muscat",Pakistan:"Asia/Karachi",Palau:"Pacific/Palau",Panama:"America/Panama",Paraguay:"America/Asuncion",Peru:"America/Lima",Philippines:"Asia/Manila",Pitcairn:"Pacific/Pitcairn",Poland:"Europe/Warsaw","Puerto Rico":"America/Puerto_Rico",Qatar:"Asia/Qatar","Republic of the Congo":"Africa/Brazzaville",Reunion:"Indian/Reunion",Romania:"Europe/Bucharest",Rwanda:"Africa/Kigali","Saint Barthélemy":"America/St_Barthelemy","Saint Helena":"Atlantic/St_Helena","Saint Kitts and Nevis":"America/St_Kitts","Saint Lucia":"America/St_Lucia","Saint Martin":"America/Marigot","Saint Pierre and Miquelon":"America/Miquelon","Saint Vincent and the Grenadines":"America/St_Vincent",Samoa:"Pacific/Apia","San Marino":"Europe/San_Marino","Sao Tome and Principe":"Africa/Sao_Tome","Saudi Arabia":"Asia/Riyadh",Senegal:"Africa/Dakar",Serbia:"Europe/Belgrade",Seychelles:"Indian/Mahe","Sierra Leone":"Africa/Freetown",Singapore:"Asia/Singapore","Sint Maarten":"America/Lower_Princes",Slovakia:"Europe/Bratislava",Slovenia:"Europe/Ljubljana","Solomon Islands":"Pacific/Guadalcanal",Somalia:"Africa/Mogadishu","South Africa":"Africa/Johannesburg","South Georgia and the South Sandwich Islands":"Atlantic/South_Georgia","South Korea":"Asia/Seoul","South Sudan":"Africa/Juba","Sri Lanka":"Asia/Colombo",Sudan:"Africa/Khartoum",Suriname:"America/Paramaribo","Svalbard and Jan Mayen":"Arctic/Longyearbyen",Swaziland:"Africa/Mbabane",Sweden:"Europe/Stockholm",Switzerland:"Europe/Zurich",Syria:"Asia/Damascus",Taiwan:"Asia/Taipei",Tajikistan:"Asia/Dushanbe",Tanzania:"Africa/Dar_es_Salaam",Thailand:"Asia/Bangkok",Togo:"Africa/Lome",Tokelau:"Pacific/Fakaofo",Tonga:"Pacific/Tongatapu","Trinidad and Tobago":"America/Port_of_Spain",Tunisia:"Africa/Tunis",Turkey:"Europe/Istanbul",Turkmenistan:"Asia/Ashgabat","Turks and Caicos Islands":"America/Grand_Turk",Tuvalu:"Pacific/Funafuti","U.S. Virgin Islands":"America/St_Thomas",Uganda:"Africa/Kampala","United Arab Emirates":"Asia/Dubai","United Kingdom":"Europe/London",UK:"Europe/London",GB:"Europe/London","Great Britain":"Europe/London",Uruguay:"America/Montevideo",Vanuatu:"Pacific/Efate",Vatican:"Europe/Vatican",Venezuela:"America/Caracas",Vietnam:"Asia/Ho_Chi_Minh","Wallis and Futuna":"Pacific/Wallis","Western Sahara":"Africa/El_Aaiun",Yemen:"Asia/Aden",Zambia:"Africa/Lusaka",Zimbabwe:"Africa/Harare",Germany:"Europe/Berlin",Busingen:"Europe/Busingen","Germany, Busingen":"Europe/Busingen",Galapagos:"Pacific/Galapagos",Ecuador:"America/Guayaquil",Chile:"America/Santiago","Easter Island":"Pacific/Easter",Spain:"Europe/Madrid",Portugal:"Europe/Lisbon",Madeira:"Atlantic/Madeira",Azores:"Atlantic/Azores",Ceuta:"Africa/Ceuta",Canary:"Atlantic/Canary","Antarctica, McMurdo":"Antarctica/McMurdo","Antarctica, Rothera":"Antarctica/Rothera","Antarctica, Palmer":"Antarctica/Palmer","Antarctica, Mawson":"Antarctica/Mawson","Antarctica, Davis":"Antarctica/Davis","Antarctica, Casey":"Antarctica/Casey","Antarctica, Vostok":"Antarctica/Vostok","Antarctica, DumontDUrville":"Antarctica/DumontDUrville","Antarctica, Syowa":"Antarctica/Syowa","Antarctica, Troll":"Antarctica/Troll","Antarctica, Macquarie":"Antarctica/Macquarie","Argentina, Buenos Aires":"America/Argentina/Buenos_Aires","Argentina, Cordoba":"America/Argentina/Cordoba","Argentina, Salta":"America/Argentina/Salta","Argentina, Jujuy":"America/Argentina/Jujuy","Argentina, Tucuman":"America/Argentina/Tucuman","Argentina, Catamarca":"America/Argentina/Catamarca","Argentina, La Rioja":"America/Argentina/La_Rioja","Argentina, San Juan":"America/Argentina/San_Juan","Argentina, Mendoza":"America/Argentina/Mendoza","Argentina, San Luis":"America/Argentina/San_Luis","Argentina, Rio Gallegos":"America/Argentina/Rio_Gallegos","Argentina, Ushuaia":"America/Argentina/Ushuaia","Australia, Lord Howe":"Australia/Lord_Howe","Australia, Hobart":"Australia/Hobart","Australia, Currie":"Australia/Currie","Australia, Melbourne":"Australia/Melbourne","Australia, Sydney":"Australia/Sydney","Australia, Broken Hill":"Australia/Broken_Hill","Australia, Brisbane":"Australia/Brisbane","Australia, Lindeman":"Australia/Lindeman","Australia, Adelaide":"Australia/Adelaide","Australia, Darwin":"Australia/Darwin","Australia, Perth":"Australia/Perth","Australia, Eucla":"Australia/Eucla","Brazil, Noronha":"America/Noronha","Brazil, Belem":"America/Belem","Brazil, Fortaleza":"America/Fortaleza","Brazil, Recife":"America/Recife","Brazil, Araguaina":"America/Araguaina","Brazil, Maceio":"America/Maceio","Brazil, Bahia":"America/Bahia","Brazil, Sao Paulo":"America/Sao_Paulo","Brazil, Campo Grande":"America/Campo_Grande","Brazil, Cuiaba":"America/Cuiaba","Brazil, Santarem":"America/Santarem","Brazil, Porto Velho":"America/Porto_Velho","Brazil, Boa Vista":"America/Boa_Vista","Brazil, Manaus":"America/Manaus","Brazil, Eirunepe":"America/Eirunepe","Brazil, Rio Branco":"America/Rio_Branco","Canada, St_Johns":"America/St_Johns","Canada, Halifax":"America/Halifax","Canada, Glace Bay":"America/Glace_Bay","Canada, Moncton":"America/Moncton","Canada, Goose Bay":"America/Goose_Bay","Canada, Blanc-Sablon":"America/Blanc-Sablon","Canada, Toronto":"America/Toronto","Canada, Nipigon":"America/Nipigon","Canada, Thunder Bay":"America/Thunder_Bay","Canada, Iqaluit":"America/Iqaluit","Canada, Pangnirtung":"America/Pangnirtung","Canada, Resolute":"America/Resolute","Canada, Atikokan":"America/Atikokan","Canada, Rankin Inlet":"America/Rankin_Inlet","Canada, Winnipeg":"America/Winnipeg","Canada, Rainy River":"America/Rainy_River","Canada, Regina":"America/Regina","Canada, Swift Current":"America/Swift_Current","Canada, Edmonton":"America/Edmonton","Canada, Cambridge Bay":"America/Cambridge_Bay","Canada, Yellowknife":"America/Yellowknife","Canada, Inuvik":"America/Inuvik","Canada, Creston":"America/Creston","Canada, Dawson Creek":"America/Dawson_Creek","Canada, Vancouver":"America/Vancouver","Canada, Whitehorse":"America/Whitehorse","Canada, Dawson":"America/Dawson","China, Shanghai":"Asia/Shanghai","China, Urumqi":"Asia/Urumqi","Congo, Kinshasa":"Africa/Kinshasa","Congo, Lubumbashi":"Africa/Lubumbashi","French Polynesia, Tahiti":"Pacific/Tahiti","French Polynesia, Marquesas":"Pacific/Marquesas","French Polynesia, Gambier":"Pacific/Gambier","Greenland, Godthab":"America/Godthab","Greenland, Danmarkshavn":"America/Danmarkshavn","Greenland, Scoresbysund":"America/Scoresbysund","Greenland, Thule":"America/Thule","Indonesia, Jakarta":"Asia/Jakarta","Indonesia, Pontianak":"Asia/Pontianak","Indonesia, Makassar":"Asia/Makassar","Indonesia, Jayapura":"Asia/Jayapura","Kazakhstan, Almaty":"Asia/Almaty","Kazakhstan, Qyzylorda":"Asia/Qyzylorda","Kazakhstan, Aqtobe":"Asia/Aqtobe","Kazakhstan, Aqtau":"Asia/Aqtau","Kazakhstan, Oral":"Asia/Oral","Kiribati, Tarawa":"Pacific/Tarawa","Kiribati, Enderbury":"Pacific/Enderbury","Kiribati, Kiritimati":"Pacific/Kiritimati","Malaysia, Kuala Lumpur":"Asia/Kuala_Lumpur","Malaysia, Kuching":"Asia/Kuching","Marshall Islands, Majuro":"Pacific/Majuro","Marshall Islands, Kwajalein":"Pacific/Kwajalein",Mexico:"America/Mexico_City","Mexico, Mexico City":"America/Mexico_City","Mexico, Cancun":"America/Cancun","Mexico, Merida":"America/Merida","Mexico, Monterrey":"America/Monterrey","Mexico, Matamoros":"America/Matamoros","Mexico, Mazatlan":"America/Mazatlan","Mexico, Chihuahua":"America/Chihuahua","Mexico, Ojinaga":"America/Ojinaga","Mexico, Hermosillo":"America/Hermosillo","Mexico, Tijuana":"America/Tijuana","Mexico, Santa Isabel":"America/Santa_Isabel","Mexico, Bahia Banderas":"America/Bahia_Banderas","Micronesia, Chuuk":"Pacific/Chuuk","Micronesia, Pohnpei":"Pacific/Pohnpei","Micronesia, Kosrae":"Pacific/Kosrae","Mongolia, Ulaanbaatar":"Asia/Ulaanbaatar","Mongolia, Hovd":"Asia/Hovd","Mongolia, Choibalsan":"Asia/Choibalsan","New Zealand, Auckland":"Pacific/Auckland","New Zealand, Chatham":"Pacific/Chatham","Palestina, Gaza":"Asia/Gaza","Palestina, Hebron":"Asia/Hebron","Papua New Guinea, Port_Moresby":"Pacific/Port_Moresby","Papua New Guinea, Bougainville":"Pacific/Bougainville","Russia, Kaliningrad":"Europe/Kaliningrad","Russia, Moscow":"Europe/Moscow","Russia, Simferopol":"Europe/Simferopol","Russia, Volgograd":"Europe/Volgograd","Russia, Samara":"Europe/Samara","Russia, Yekaterinburg":"Asia/Yekaterinburg","Russia, Omsk":"Asia/Omsk","Russia, Novosibirsk":"Asia/Novosibirsk","Russia, Novokuznetsk":"Asia/Novokuznetsk","Russia, Krasnoyarsk":"Asia/Krasnoyarsk","Russia, Irkutsk":"Asia/Irkutsk","Russia, Chita":"Asia/Chita","Russia, Yakutsk":"Asia/Yakutsk","Russia, Khandyga":"Asia/Khandyga","Russia, Vladivostok":"Asia/Vladivostok","Russia, Sakhalin":"Asia/Sakhalin","Russia, Ust-Nera":"Asia/Ust-Nera","Russia, Magadan":"Asia/Magadan","Russia, Srednekolymsk":"Asia/Srednekolymsk","Russia, Kamchatka":"Asia/Kamchatka","Russia, Anadyr":"Asia/Anadyr","Ukraine, Kiev":"Europe/Kiev","Ukraine, Uzhgorod":"Europe/Uzhgorod","Ukraine, Zaporozhye":"Europe/Zaporozhye","Uzbekistan, Samarkand":"Asia/Samarkand","Uzbekistan, Tashkent":"Asia/Tashkent","United States, New York":"America/New_York","United States, Michigan - Detroit":"America/Detroit","United States, Michigan - Menominee":"America/Menominee","United States, Kentucky - Louisville":"America/Kentucky/Louisville","United States, Kentucky - Monticello":"America/Kentucky/Monticello","United States, Indiana - Indianapolis":"America/Indiana/Indianapolis","United States, Indiana - Vincennes":"America/Indiana/Vincennes","United States, Indiana - Winamac":"America/Indiana/Winamac","United States, Indiana - Marengo":"America/Indiana/Marengo","United States, Indiana - Petersburg":"America/Indiana/Petersburg","United States, Indiana - Vevay":"America/Indiana/Vevay","United States, Indiana - Tell City":"America/Indiana/Tell_City","United States, Indiana - Knox":"America/Indiana/Knox","United States, Illinois":"America/Chicago","United States, North Dakota - Center":"America/North_Dakota/Center","United States, North Dakota - New Salem":"America/North_Dakota/New_Salem","United States, North Dakota - Beulah":"America/North_Dakota/Beulah","United States, Colorado":"America/Denver","United States, Idaho":"America/Boise","United States, Arizona":"America/Phoenix","United States, California":"America/Los_Angeles","United States, Alaska - Metlakatla":"America/Metlakatla","United States, Alaska - Anchorage":"America/Anchorage","United States, Alaska - Juneau":"America/Juneau","United States, Alaska - Sitka":"America/Sitka","United States, Alaska - Yakutat":"America/Yakutat","United States, Alaska - Nome":"America/Nome","United States, Alaska - Adak":"America/Adak","United States, Hawaii":"Pacific/Honolulu","USA, New York":"America/New_York","USA, Michigan - Detroit":"America/Detroit","USA, Michigan - Menominee":"America/Menominee","USA, Kentucky - Louisville":"America/Kentucky/Louisville","USA, Kentucky - Monticello":"America/Kentucky/Monticello","USA, Indiana - Indianapolis":"America/Indiana/Indianapolis","USA, Indiana - Vincennes":"America/Indiana/Vincennes","USA, Indiana - Winamac":"America/Indiana/Winamac","USA, Indiana - Marengo":"America/Indiana/Marengo","USA, Indiana - Petersburg":"America/Indiana/Petersburg","USA, Indiana - Vevay":"America/Indiana/Vevay","USA, Indiana - Tell City":"America/Indiana/Tell_City","USA, Indiana - Knox":"America/Indiana/Knox","USA, Illinois":"America/Chicago","USA, North Dakota - Center":"America/North_Dakota/Center","USA, North Dakota - New Salem":"America/North_Dakota/New_Salem","USA, North Dakota - Beulah":"America/North_Dakota/Beulah","USA, Colorado":"America/Denver","USA, Idaho":"America/Boise","USA, Arizona":"America/Phoenix","USA, California":"America/Los_Angeles","USA, Alaska - Metlakatla":"America/Metlakatla","USA, Alaska - Anchorage":"America/Anchorage","USA, Alaska - Juneau":"America/Juneau","USA, Alaska - Sitka":"America/Sitka","USA, Alaska - Yakutat":"America/Yakutat","USA, Alaska - Nome":"America/Nome","USA, Alaska - Adak":"America/Adak","USA, Hawaii":"Pacific/Honolulu",Hawaii:"Pacific/Honolulu","USA, Eastern Time":"America/New_York","USA, Central Time":"America/Chicago","USA, Mountain Time":"America/Denver","USA, Pacific Time":"America/Los_Angeles",GMT:"Africa/Dakar",UTC:"Africa/Dakar",CET:"Europe/Berlin",CEST:"Europe/Berlin"};
var people=[{name:"@emmablackery",tz:"United Kingdom",color:"#F431A9"},{name:"@thetomska",tz:"United Kingdom",color:"#5BDFA8"},{name:"@MightyPork",tz:"Europe/Prague",color:"orange"},{name:"Pacific Time",tz:"USA, Pacific Time",color:"#B2FF5D"},{name:"Mountain Time",tz:"USA, Mountain Time",color:"#EAFF5D"},{name:"Central Time",tz:"USA, Central Time",color:"#FFD55D"},{name:"Eastern Time",tz:"USA, Eastern Time",color:"#FFA55D"},{name:"Москва",tz:"Москва",color:"red"},{name:"Sydney",tz:"Australia/Sydney",color:"#36CBFF"},{name:"Athens",tz:"Athens",color:"#87E0FF"},{name:"@pontifex",tz:"Vatican",color:"white"},{name:"@potus",tz:"Washington DC",color:"skyblue"},{name:"@BritishMonarchy",tz:"United Kingdom",color:"#D3213D"},{name:"Christmas Island",tz:"Cristmas Island",color:"teal"},{name:"Grand Canyon",tz:"Grand Canyon",color:"#DEA84B"}];
function callAjax(b,d,a){var c=new XMLHttpRequest();c.open("GET",b,true);c.onreadystatechange=function(){if(c.readyState==4){if(c.status>=200&&c.status<400){if(typeof d=="function"){d(c.responseText)}}else{if(typeof a=="function"){a(xhr.status)
}}}};c.onError=function(){if(typeof a=="function"){a(-1)}};c.send()}function LocalRepository(){}LocalRepository.prototype.load=function(){var a=localStorage.profiles;if(typeof a!="undefined"){try{this.profiles=JSON.parse(a)
}catch(c){console.error("Error when parsing profiles array from localstorage",c)}}else{this.profiles=[]}var b=localStorage.config};(function(){function g(j){var h=localStorage.people;if(typeof h!="undefined"){try{people=JSON.parse(h)
}catch(i){console.error("Error when parsing people array from localstorage",i)}}c(people,j)}var f=0;function c(i,j){i.forEach(function(k){k._valid=true;var l=false;["name","color","tz"].forEach(function(m){if(typeof(k[m])=="undefined"){console.error('Missing "'+m+'" field in person object',k);
l=true}});if(l){k._valid=false;return}f++;b(k)});var h=function(){if(f<=0){console.log("LOADING DONE");j();return}setTimeout(h,10)};h()}var e=0;function b(h){h._tz_cached=h.tz;if(h.tz in tz_aliases){h._tz_cached=tz_aliases[h.tz];
console.log('TZ "'+h.tz+'" resolved as "'+h._tz_cached+'"')}if(moment.tz.zone(h._tz_cached)){f--;return}a(h)}function a(j){var h=(Date.now()-e);var i=Math.max(0,(110-h));if(i==0){e=Date.now();d(j);return
}setTimeout(function(){a(j)},i)}function d(i){var h="https://maps.googleapis.com/maps/api/geocode/json?sensor=false&address="+encodeURIComponent(i.tz);callAjax(h,function(q){try{var j=JSON.parse(q);console.log("Reply from getAPI:",j);
if(j.status==="OK"){console.log("resp. is OK");var k=j.results;console.log(k);if(k.length>1){console.error('WARNING: Google found multiple matches. Try to be more specific at "'+i.tz+'"')}var o=k[0].geometry.location.lat;
var p=k[0].geometry.location.lng;var m=Math.floor(Date.now()/1000);var l="https://maps.googleapis.com/maps/api/timezone/json?location="+o+","+p+"&timestamp="+m+"&sensor=false";callAjax(l,function(t){console.log("Reply from tzAPI: "+t);
try{var r=JSON.parse(t);console.log("Reply from Google:",r);if(r.status==="OK"){console.log("Resolved TZ as "+r.timeZoneId);i._tz_cached=r.timeZoneId}else{i._valid=false}}catch(s){console.log(s);i._valid=false
}f--},function(r){console.log("FAIL tzAPI: "+r);i._valid=false;f--})}else{i._valid=false;f--}}catch(n){console.log(n);i._valid=false;f--}},function(j){console.log("FAIL geoAPI: "+j);i._valid=false;f--})
}window.loadPeopleArray=g;window.resolvePeopleTimezones=c})();function getTimezoneForPerson(a){return a._tz_cached}function getTimeForPerson(b){var c=getTimezoneForPerson(b);if(c===false){return false}var a=moment().tz(c);
return a.hour()*3600+a.minute()*60+a.second()}if(!Date.now){Date.now=function(){return new Date().getTime()}}function hour2angle(c){var b=(18-c)*15;while(b<0){b+=360}return b}function positionAt(a,d,f,b){if(typeof b==="undefined"){b=0
}var c=f*Math.cos((d/180)*Math.PI);var e=f*Math.sin((d/180)*Math.PI);switch(b){case 0:case 1:case 7:a.style.left=(50+c)+"%";a.style.top=(50-e)+"%";break;case 2:case 3:case 4:a.style.right=(50-c)+"%";a.style.top=(50-e)+"%";
break;case 5:a.style.right=(50-c)+"%";a.style.bottom=(50+e)+"%";break;case 6:a.style.left=(50+c)+"%";a.style.bottom=(50+e)+"%";break}}function momentDayCompare(a,e){var f=a.dayOfYear();var c=a.year();var d=e.dayOfYear();
var b=e.year();if(b<c){return -1}else{if(b>c){return 1}else{if(d<f){return -1}else{if(d>f){return 1}}}}return 0}function fixTextareaTabKey(){var a=document.getElementsByTagName("textarea");var c=a.length;
for(var b=0;b<c;b++){a[b].onKeyDown=function(f){if(f.keyCode==9||f.which==9){f.preventDefault();var d=this.selectionStart;this.value=this.value.substring(0,this.selectionStart)+"\t"+this.value.substring(this.selectionEnd);
this.selectionEnd=d+1}}}}(function(){function g(j){var h=localStorage.people;if(typeof h!="undefined"){try{people=JSON.parse(h)}catch(i){console.error("Error when parsing people array from localstorage",i)
}}c(people,j)}var f=0;function c(i,j){i.forEach(function(k){k._valid=true;var l=false;["name","color","tz"].forEach(function(m){if(typeof(k[m])=="undefined"){console.error('Missing "'+m+'" field in person object',k);
l=true}});if(l){k._valid=false;return}f++;b(k)});var h=function(){if(f<=0){console.log("LOADING DONE");j();return}setTimeout(h,10)};h()}var e=0;function b(h){h._tz_cached=h.tz;if(h.tz in tz_aliases){h._tz_cached=tz_aliases[h.tz];
console.log('TZ "'+h.tz+'" resolved as "'+h._tz_cached+'"')}if(moment.tz.zone(h._tz_cached)){f--;return}a(h)}function a(j){var h=(Date.now()-e);var i=Math.max(0,(110-h));if(i==0){e=Date.now();d(j);return
}setTimeout(function(){a(j)},i)}function d(i){var h="https://maps.googleapis.com/maps/api/geocode/json?sensor=false&address="+encodeURIComponent(i.tz);callAjax(h,function(q){try{var j=JSON.parse(q);console.log("Reply from getAPI:",j);
if(j.status==="OK"){console.log("resp. is OK");var k=j.results;console.log(k);if(k.length>1){console.error('WARNING: Google found multiple matches. Try to be more specific at "'+i.tz+'"')}var o=k[0].geometry.location.lat;
var p=k[0].geometry.location.lng;var m=Math.floor(Date.now()/1000);var l="https://maps.googleapis.com/maps/api/timezone/json?location="+o+","+p+"&timestamp="+m+"&sensor=false";callAjax(l,function(t){console.log("Reply from tzAPI: "+t);
try{var r=JSON.parse(t);console.log("Reply from Google:",r);if(r.status==="OK"){console.log("Resolved TZ as "+r.timeZoneId);i._tz_cached=r.timeZoneId}else{i._valid=false}}catch(s){console.log(s);i._valid=false
}f--},function(r){console.log("FAIL tzAPI: "+r);i._valid=false;f--})}else{i._valid=false;f--}}catch(n){console.log(n);i._valid=false;f--}},function(j){console.log("FAIL geoAPI: "+j);i._valid=false;f--})
}window.loadPeopleArray=g;window.resolvePeopleTimezones=c})();function getTimezoneForPerson(a){return a._tz_cached}function getTimeForPerson(b){var c=getTimezoneForPerson(b);if(c===false){return false}var a=moment().tz(c);
return a.hour()*3600+a.minute()*60+a.second()}function openSetupDialog(){document.getElementById("people_error").textContent="";var a=document.getElementById("people_json");var b=JSON.parse(JSON.stringify(people));
b.forEach(function(d){delete d._t;delete d._valid;delete d._tz_cached});a.value=JSON.stringify(b,null,"\t");var c=document.getElementById("setup_dialog");c.style.display="block";setTimeout(function(){c.style.opacity=1
},1)}function submitPeopleEdit(c){switch(c){case"defaults":localStorage.people=JSON.stringify(people_orig);init();hideSetupModal();break;case"close":hideSetupModal();break;case"save":try{var b=document.getElementById("people_json");
var a=JSON.parse(b.value);a.forEach(function(e){if(typeof e.name=="undefined"){throw new SyntaxError('Missing "name"')}if(typeof e.tz=="undefined"){throw new SyntaxError('Missing "tz" for '+e.name)}if(typeof e.color=="undefined"){throw new SyntaxError('Missing "color" for '+e.name)
}});localStorage.people=JSON.stringify(a);init();hideSetupModal()}catch(d){var f=document.getElementById("people_error");if(d.message.match(/^Unexpected token [,\]}]/g)){f.textContent="Syntax error: trailing comma ?"
}else{if(d.message.match(/^Unexpected string/g)){f.textContent="Syntax error: missing comma ?"}else{f.textContent="Syntax error: "+d.message}}console.log("Error in user-entered JSON",d)}break}}function hideSetupModal(){var a=document.getElementById("setup_dialog");
a.style.opacity=0;setTimeout(function(){a.style.display="none"},500)}(function(j){j.Tzork={repository:null,profile:null};function l(){Tzork.repository=new LocalRepository();Tzork.repository.load()}var o;
var a;var h;var m;var c;var g=true;function b(){var q;fixTextareaTabKey();var p=document.querySelectorAll(".mark, .bullet, .person-label, .people-list");for(q=0;q<p.length;q++){p[q].parentNode.removeChild(p[q])
}clearInterval(c);clearInterval(m);h=document.getElementById("disc");k();i();m=setInterval(i,1000);loadPeopleArray(function(){f();c=setInterval(f,1000*10);j.onFocus=function(){f();i()};var r=document.getElementById("setup_btn");
r.addEventListener("click",function(){openSetupDialog()})})}function k(){for(var p=0;p<24;p++){var r=document.createElement("div");r.classList.add("mark");r.classList.add("hour-"+p);if(p==0||p==6||p==12||p==18){r.classList.add("sixth")
}r.textContent=""+p;var q=hour2angle(p);positionAt(r,q,45);h.appendChild(r)}}function i(){var r=moment();var p=r.format("H:mm");if(p!==a){a=p;var u=p.split(":");document.getElementById("localtime").innerHTML=u[0]+'<span id="loctimecolon">:</span>'+u[1]
}var q=(new Date()).getSeconds()%2;document.getElementById("loctimecolon").style.visibility=q?"visible":"hidden"}function f(){if(o){console.log("Mouse over list, not redrawing.");return}var p=document.querySelectorAll(".bullet, .person, .people-list");
for(var q in p){if(p.hasOwnProperty(q)){var r=p[q];if(!r||!r.parentNode){continue}r.parentNode.removeChild(r)}}n()}function n(){var p=[];people.forEach(function(s){if(!s._valid){return}var q=getTimeForPerson(s);
if(q===false){return}s._t=q;var r;p.some(function(t){if(Math.abs(t.t-q)<60){t.p.push(s);r=true;return true}});if(!r){p.push({t:q,p:[s]})}});p.forEach(function(q){e(q.t,q.p)})}function e(w,G){var u;var v=G[0];
var F=w/3600;var r=hour2angle(F);var E=Math.floor(r/45);var s=Math.floor(E/2);var D=s<2;var p=(s>0&&s<3);var C=document.createElement("div");C.className="bullet";C.style.backgroundColor=v.color;positionAt(C,r,50.2);
h.appendChild(C);var x=document.createElement("div");x.classList.add("people-list");x.classList.add(p?"left":"right");x.classList.add(D?"up":"down");x.classList.add("quad"+s);x.classList.add("oct"+E);var B=moment();
var z=moment().tz(getTimezoneForPerson(v));u=momentDayCompare(B,z);var y=(u==-1)?"day-prev":(u==1)?"day-next":null;if(y!==null){x.classList.add(y);C.classList.add(y)}if(G.length>1){x.classList.add("multiple");
x.classList.add("count-"+G.length)}for(u=0;u<G.length;u++){var A=G[u];var q=d(A);q.title=z.format("H:mm, MMM Do")+" — "+A._tz_cached;x.appendChild(q)}x.addEventListener("mouseover",function(){o=true});
x.addEventListener("mouseout",function(){o=false});positionAt(x,r,53.5,E);h.appendChild(x)}function d(q){var r=(q.name.indexOf("@")===0);var p=document.createElement(r?"a":"span");p.classList.add("person-label");
if(r){p.href="https://twitter.com/"+q.name;p.target="_blank"}p.style.color=q.color;p.textContent=q.name;return p}j.updatePeople=f;j.buildClock=b})(window);